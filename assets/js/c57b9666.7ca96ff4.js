"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[5033],{4844:(e,t,c)=>{c.r(t),c.d(t,{assets:()=>r,contentTitle:()=>p,default:()=>i,frontMatter:()=>n,metadata:()=>o,toc:()=>u});var f=c(4848),s=c(8453);const n={},p="useLayoutEffect",o={id:"react/Hooks/useLayoutEffect/useLayoutEffect",title:"useLayoutEffect",description:"\u548c useEffect \u7c7b\u4f3c\u7684\u8fd8\u6709\u4e00\u4e2a useLayoutEffect\u3002",source:"@site/docs/react/Hooks/useLayoutEffect/useLayoutEffect.md",sourceDirName:"react/Hooks/useLayoutEffect",slug:"/react/Hooks/useLayoutEffect/",permalink:"/myblog/docs/react/Hooks/useLayoutEffect/",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/react/Hooks/useLayoutEffect/useLayoutEffect.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"useEffect",permalink:"/myblog/docs/react/Hooks/useEffect/"},next:{title:"useReducer",permalink:"/myblog/docs/react/Hooks/useReducer/"}},r={},u=[];function a(e){const t={h1:"h1",img:"img",p:"p",...(0,s.R)(),...e.components};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(t.h1,{id:"uselayouteffect",children:"useLayoutEffect"}),"\n",(0,f.jsx)(t.p,{children:"\u548c useEffect \u7c7b\u4f3c\u7684\u8fd8\u6709\u4e00\u4e2a useLayoutEffect\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u628a useEffect \u6362\u6210 useLayoutEffect \u4e5f\u4e00\u6837\uff1a"}),"\n",(0,f.jsx)(t.p,{children:(0,f.jsx)(t.img,{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3f1898ab718041f794f97fb3eaff45cc~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=546&h=252&s=36583&e=png&b=202020",alt:""})}),"\n",(0,f.jsx)(t.p,{children:(0,f.jsx)(t.img,{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9051c70096bf4e9d9053d6d5723c3b40~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=618&h=618&s=51493&e=png&b=ffffff",alt:""})}),"\n",(0,f.jsx)(t.p,{children:"\u90a3\u4e3a\u5565\u8fd8\u8981\u6709\u8fd9\u4e24\u4e2a hook \u5462\uff1f"}),"\n",(0,f.jsx)(t.p,{children:"\u6211\u4eec\u77e5\u9053\uff0cjs \u6267\u884c\u548c\u6e32\u67d3\u662f\u963b\u585e\u7684\uff1a"}),"\n",(0,f.jsx)(t.p,{children:(0,f.jsx)(t.img,{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9c88835aa7434d15ae1b60d77aff4215~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1482&h=192&s=17185&e=png&b=ffffff",alt:""})}),"\n",(0,f.jsx)(t.p,{children:"useEffect \u7684 effect \u51fd\u6570\u4f1a\u5728\u64cd\u4f5c dom \u4e4b\u540e\u5f02\u6b65\u6267\u884c\uff1a"}),"\n",(0,f.jsx)(t.p,{children:(0,f.jsx)(t.img,{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a554b4ddeb494d69991f8c71e543d72a~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1488&h=282&s=27751&e=png&b=ffffff",alt:""})}),"\n",(0,f.jsx)(t.p,{children:"\u5f02\u6b65\u6267\u884c\u5c31\u662f\u7528 setTimeout\u3001Promise.then \u7b49 api \u5305\u88f9\u6267\u884c\u7684\u903b\u8f91\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u8fd9\u4e9b\u903b\u8f91\u4f1a\u4ee5\u5355\u72ec\u7684\u5b8f\u4efb\u52a1\u6216\u8005\u5fae\u4efb\u52a1\u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u7136\u540e\u8fdb\u5165 Event Loop \u8c03\u5ea6\u6267\u884c\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u6253\u5f00 Permormance \u5de5\u5177\uff0c\u53ef\u4ee5\u770b\u5230 Event Loop \u7684\u8be6\u60c5\uff1a"}),"\n",(0,f.jsx)(t.p,{children:(0,f.jsx)(t.img,{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c724f011d3f549678cc1b4c85a669b96~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1802&h=646&s=72439&e=png&b=f4f6fd",alt:""})}),"\n",(0,f.jsx)(t.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0c\u6e32\u67d3\u7684\u95f4\u9694\u662f\u56fa\u5b9a\u7684\uff0c\u800c js \u7684\u4efb\u52a1\u5728\u8fd9\u4e9b\u6e32\u67d3\u7684\u95f4\u9694\u4e2d\u6267\u884c\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u6240\u4ee5\u5f02\u6b65\u6267\u884c\u7684 effect \u903b\u8f91\u5c31\u6709\u4e24\u79cd\u53ef\u80fd\uff1a"}),"\n",(0,f.jsx)(t.p,{children:(0,f.jsx)(t.img,{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/83b2167ca07b464c88af9b5e3df46093~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1654&h=300&s=30790&e=png&b=fefefe",alt:""})}),"\n",(0,f.jsx)(t.p,{children:(0,f.jsx)(t.img,{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a1e6d47466747478556c6235df5d27a~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1468&h=300&s=27709&e=png&b=fdfdfd",alt:""})}),"\n",(0,f.jsx)(t.p,{children:"\u7070\u8272\u7684\u90e8\u5206\u662f\u5355\u72ec\u7684\u4efb\u52a1\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u6709\u53ef\u80fd\u5728\u4e0b\u6b21\u6e32\u67d3\u4e4b\u524d\uff0c\u5c31\u80fd\u6267\u884c\u5b8c\u8fd9\u4e2a effect\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u4e5f\u6709\u53ef\u80fd\u4e0b\u6b21\u6e32\u67d3\u524d\uff0c\u6ca1\u65f6\u95f4\u6267\u884c\u8fd9\u4e2a effect\uff0c\u6240\u4ee5\u5c31\u5728\u6e32\u67d3\u4e4b\u540e\u6267\u884c\u4e86\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u8fd9\u6837\u5c31\u5bfc\u81f4\u6709\u7684\u65f6\u5019\u9875\u9762\u4f1a\u51fa\u73b0\u95ea\u52a8\uff0c\u56e0\u4e3a\u7b2c\u4e00\u6b21\u6e32\u67d3\u7684\u65f6\u5019\u7684 state \u662f\u4e4b\u524d\u7684\u503c\uff0c\u6e32\u67d3\u5b8c\u4e4b\u540e\u6267\u884c effect \u6539\u4e86 state\uff0c\u518d\u6b21\u6e32\u67d3\u5c31\u662f\u65b0\u7684\u503c\u4e86\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u4e00\u822c\u8fd9\u6837\u4e5f\u6ca1\u5565\u95ee\u9898\uff0c\u4f46\u5982\u679c\u4f60\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\uff0c\u4e0d\u60f3\u95ea\u52a8\u90a3\u4e00\u4e0b\uff0c\u5c31\u7528 useLayoutEffect\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u5b83\u7684 useEffect \u7684\u533a\u522b\u662f\u5b83\u7684 effect \u6267\u884c\u662f\u540c\u6b65\u7684\uff0c\u4e5f\u5c31\u662f\u5728\u540c\u4e00\u4e2a\u4efb\u52a1\u91cc\uff1a"}),"\n",(0,f.jsx)(t.p,{children:(0,f.jsx)(t.img,{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c7352b1c05bc4bf2862b2297e4303c8b~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1672&h=276&s=28692&e=png&b=fdfdfd",alt:""})}),"\n",(0,f.jsx)(t.p,{children:"\u8fd9\u6837\u6d4f\u89c8\u5668\u4f1a\u7b49 effect \u903b\u8f91\u6267\u884c\u5b8c\u518d\u6e32\u67d3\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u597d\u5904\u81ea\u7136\u5c31\u662f\u4e0d\u4f1a\u95ea\u52a8\u4e86\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u4f46\u574f\u5904\u4e5f\u5f88\u660e\u663e\uff0c\u5982\u679c\u4f60\u7684 effect \u903b\u8f91\u8981\u6267\u884c\u5f88\u4e45\u5462\uff1f"}),"\n",(0,f.jsx)(t.p,{children:"\u4e0d\u5c31\u963b\u585e\u6e32\u67d3\u4e86\uff1f"}),"\n",(0,f.jsx)(t.p,{children:"\u8d85\u8fc7 50ms \u7684\u4efb\u52a1\u5c31\u88ab\u79f0\u4f5c\u957f\u4efb\u52a1\uff0c\u4f1a\u963b\u585e\u6e32\u67d3\uff0c\u5bfc\u81f4\u6389\u5e27\uff1a"}),"\n",(0,f.jsx)(t.p,{children:(0,f.jsx)(t.img,{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d8ca8b96386d43eb94ddabe5f277d195~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=944&h=218&s=61827&e=png&b=f7f3f2",alt:""})}),"\n",(0,f.jsx)(t.p,{children:"\u6240\u4ee5\u8bf4\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u8fd8\u662f\u8ba9 effect \u903b\u8f91\u5f02\u6b65\u6267\u884c\u7684\u597d\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u4e5f\u5c31\u662f\u8bf4\uff0c\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u7528 useEffect\uff0c\u5b83\u80fd\u907f\u514d\u56e0\u4e3a effect \u903b\u8f91\u6267\u884c\u65f6\u95f4\u957f\u5bfc\u81f4\u9875\u9762\u5361\u987f\uff08\u6389\u5e27\uff09\u3002 \u4f46\u5982\u679c\u4f60\u9047\u5230\u95ea\u52a8\u7684\u95ee\u9898\u6bd4\u8f83\u4e25\u91cd\uff0c\u90a3\u53ef\u4ee5\u7528 useLayoutEffect\uff0c\u4f46\u8981\u6ce8\u610f effect \u903b\u8f91\u4e0d\u8981\u6267\u884c\u65f6\u95f4\u592a\u957f\u3002"}),"\n",(0,f.jsx)(t.p,{children:"\u540c\u6b65\u3001\u5f02\u6b65\u6267\u884c effect \u90fd\u5404\u6709\u5404\u7684\u95ee\u9898\u548c\u597d\u5904\uff0c\u6240\u4ee5 React \u66b4\u9732\u4e86 useEffect \u548c useLayoutEffect \u8fd9\u4e24\u4e2a hook \u51fa\u6765\uff0c\u8ba9\u5f00\u53d1\u8005\u81ea\u5df1\u51b3\u5b9a\u3002"})]})}function i(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,f.jsx)(t,{...e,children:(0,f.jsx)(a,{...e})}):a(e)}},8453:(e,t,c)=>{c.d(t,{R:()=>p,x:()=>o});var f=c(6540);const s={},n=f.createContext(s);function p(e){const t=f.useContext(n);return f.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:p(e.components),f.createElement(n.Provider,{value:t},e.children)}}}]);