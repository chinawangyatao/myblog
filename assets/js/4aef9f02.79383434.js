"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[9432],{6727:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>x,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var o=n(4848),r=n(8453);const s={sidebar_position:10},c="Context",a={id:"react/Context/Context",title:"Context",description:"\u76ee\u5f55",source:"@site/docs/react/Context/Context.md",sourceDirName:"react/Context",slug:"/react/Context/",permalink:"/myblog/docs/react/Context/",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/react/Context/Context.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"React\u8def\u7531",permalink:"/myblog/docs/react/React\u8def\u7531/"},next:{title:"\u7ec4\u5408/\u63d2\u69fd",permalink:"/myblog/docs/react/\u7ec4\u5408-\u63d2\u69fd/"}},i={},l=[{value:"\u76ee\u5f55",id:"\u76ee\u5f55",level:2},{value:"\u5176\u5b9e\u5c31\u662f\uff1a\u8de8\u5c42\u7ea7\u4f20\u503c",id:"\u5176\u5b9e\u5c31\u662f\u8de8\u5c42\u7ea7\u4f20\u503c",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"context",children:"Context"}),"\n",(0,o.jsx)(t.h2,{id:"\u76ee\u5f55",children:"\u76ee\u5f55"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.a,{href:"#11-%E4%BB%8B%E7%BB%8D",children:"1.1 \u4ecb\u7ecd"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"#%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E8%B7%A8%E5%B1%82%E7%BA%A7%E4%BC%A0%E5%80%BC",children:"\u5176\u5b9e\u5c31\u662f\uff1a\u8de8\u5c42\u7ea7\u4f20\u503c"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.h1,{id:"11-\u4ecb\u7ecd",children:"1.1 \u4ecb\u7ecd"}),"\n",(0,o.jsx)(t.p,{children:"Context\u63d0\u4f9b\u4e86\u4e00\u4e2a\u65e0\u9700\u4e3a\u6bcf\u5c42\u7ec4\u4ef6\u624b\u52a8\u6dfb\u52a0 props\uff0c\u5c31\u80fd\u5728\u7ec4\u4ef6\u6811\u95f4\u8fdb\u884c\u6570\u636e\u4f20\u9012\u7684\u65b9\u6cd5\u5728\u4e00\u4e2a\u5178\u578b\u7684 React \u5e94\u7528\u4e2d\uff0c\u6570\u636e\u662f\u901a\u8fc7 props\u5c5e\u6027\u81ea\u4e0a\u800c\u4e0b\uff08\u7531\u7236\u53ca\u5b50\uff09\u8fdb\u884c\u4f20\u9012\u7684\uff0c\u4f46\u8fd9\u79cd\u505a\u6cd5\u5bf9\u4e8e\u67d0\u4e9b\u7c7b\u578b\u7684\u5c5e\u6027\u800c\u8a00\u662f\u6781\u5176\u7e41\u7410\u7684\uff08\u4f8b\u5982\uff1a\u5730\u533a\u504f\u597d\uff0cUI\u4e3b\u9898\uff09\uff0c\u8fd9\u4e9b\u5c5e\u6027\u662f\u5e94\u7528\u7a0b\u5e8f\u4e2d\u8bb8\u591a\u7ec4\u4ef6\u90fd\u9700\u8981\u767d Context \u63d0\u4f9b\u4e86\u4e00\u79cd\u5728\u7ec4\u4ef6\u4e4b\u95f4\u5171\u4eab\u6b64\u7c7b\u503c\u7684\u65b9\u5f0f\uff0c\u800c\u4e0d\u5fc5\u663e\u5f0f\u5730\u901a\u8fc7\u7ec4\u4ef6\u6811\u7684\u9010\u5c42\u4f20\u9012 props\u3002"}),"\n",(0,o.jsx)(t.h2,{id:"\u5176\u5b9e\u5c31\u662f\u8de8\u5c42\u7ea7\u4f20\u503c",children:"\u5176\u5b9e\u5c31\u662f\uff1a\u8de8\u5c42\u7ea7\u4f20\u503c"}),"\n",(0,o.jsx)(t.p,{children:"\u8bed\u6cd5"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-react jsx",children:'//\u5728\u3002js\u4e2d\u5efa\u7acb\u4e00\u4e2a\u4ed3\u5e93\nimport React from "react";\nconst mycontext = React.createContext();//\u5c01\u88c5\u4e00\u4e2acontext\u7ec4\u4ef6\nexport default mycontext;\n'})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-react jsx",children:" <mycontext.Provider value={this.state}>\n          <Ceng2\n            getmsg={(msg) => {\n              this.setState({\n                msg: msg,\n              });\n            }}\n          ></Ceng2>\n</mycontext.Provider>\n//\u5229\u7528context\u7ec4\u4ef6\u7684Provider\uff08\u63d0\u4f9b\u8005\uff09\u65b9\u6cd5\u5411\u540e\u4ee3\u7ec4\u4ef6\u4f20\u9012\u6d88\u606f\uff0c\u5176\u4e2dvalue\u8868\u793a\u7684\u662f\u4f20\u9012\u7684\u53d8\u91cf\u6216\u8005\u65b9\u6cd5\n\n//\u5b50\u5b59\u7ec4\u4ef6\u53ef\u4ee5\u7528.Consumer\uff08\u6d88\u8d39\u8005\uff09\u65b9\u6cd5\u8fdb\u884c\u63a5\u53d7\n<mycontext.Consumer>{(value) => <p>{value.num}</p>}</mycontext.Consumer>\n\n\n"})}),"\n",(0,o.jsxs)(t.p,{children:["\u6ce8\u610f\uff1a",(0,o.jsx)(t.code,{children:".Consumer"})," \u662f\u8001\u65b9\u6cd5\uff0c\u80fd\u7528\uff0c\u4e0d\u63a8\u8350"]}),"\n",(0,o.jsx)(t.p,{children:"\u63a8\u8350\u5b98\u7f51\u65b9\u6cd5"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-react jsx",children:"function Button() {\n  // \u2705 \u63a8\u8350\u65b9\u5f0f\n  const theme = useContext(ThemeContext);\n  return <button className={theme} />;\n}\n"})})]})}function x(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>a});var o=n(6540);const r={},s=o.createContext(r);function c(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);